(function(){"use strict";const e=cumcord.modules.webpackModules.findByProps("getElementFromMessageId").getElementFromMessageId,t=Object.getPrototypeOf(cumcord.modules.webpackModules.findByProps("dispatch"));let d,s,l;function o(){for(let e of window.deletedMessages)try{document.getElementById(e.id).classList.contains("deleted-message")||document.getElementById(e.id).classList.add("deleted-message")}catch(e){}}return window.deletedMessages=[],{onLoad(){l=cumcord.patcher.injectCSS(".deleted-message{background-color: rgba(240, 71, 71, 0.1);}"),s=setInterval(o,300),d=cumcord.patcher.instead("dispatch",t,((t,d)=>{if("MESSAGE_DELETE"===t[0].type)try{var s={deletedHtmlElement:e(t[0].id)};return s.deletedText=s.deletedHtmlElement.innerText.split("\n")[3],s.id="chat-messages-"+t[0].id,s.deletedHtmlElement,console.log("[messagedeletion] New Deleted Message: "+s.deletedText),-1==window.deletedMessages.indexOf(s)&&window.deletedMessages.push(s),void 0}catch(e){console.log("[messagedeletion] Failed to get deleted message!"),console.error(e)}return d(...t)}))},onUnload(){l(),d(),clearInterval(s)}}})();